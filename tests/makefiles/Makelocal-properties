#---*- Makefile -*-------------------------------------------------------

# Targets related to handling the schema/properties files

INPUTS := $(wildcard properties/src/*/*.yaml)
OUTPUTS = $(patsubst properties/src/%.yaml,properties/output/%.json,$(INPUTS))

.PHONY: properties

properties: $(OUTPUTS)

properties/output/%.json: properties/src/%.yaml
	mkdir -p "$(dir $@)"
	tests/scripts/process_propdefs.py --basedir "properties/src" --output "$@" "$<"

.PHONY: clean clean_properties

clean: clean_properties

clean_properties:
	rm -f $(OUTPUTS)
