#---*- Makefile -*-------------------------------------------------------

# Makelocal-output

PDF_FILES = ${RST_FILES:%.rst=%.pdf}

.PHONY: pdf

pdf: ${PDF_FILES}

%.pdf: %.rst
	pandoc $< -o $@

HTML_FILES = ${RST_FILES:%.rst=%.html}

.PHONY: html

html: ${HTML_FILES}

%.html: %.rst ./tests/makefiles/
	RST2HTML5 = $(shell which rst2html5.py 2>/dev/null || which rst2html5 2>/dev/null || echo "")
	ifeq ($(RST2HTML5),)
	$(error Neither rst2html5.py nor rst2html5 found in PATH)
	endif
	$(RST2HTML5) -d --syntax-highlight=none --stylesheet=$(word 2, $^) $< $@
